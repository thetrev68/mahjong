:root{--color-table-base: #0c6d3a;--color-table-dark: #044328;--color-table-highlight: #178c4e;--color-panel: rgba(5, 28, 18, .9);--color-panel-soft: rgba(15, 54, 35, .65);--color-surface-elevated: rgba(4, 24, 14, .88);--color-surface-subtle: rgba(11, 37, 24, .55);--color-text-primary: #f5fbf7;--color-text-secondary: rgba(237, 244, 239, .72);--color-text-muted: rgba(213, 231, 220, .56);--color-outline: rgba(255, 255, 255, .22);--color-outline-strong: rgba(255, 255, 255, .45);--color-accent: #ffd166;--color-accent-dark: #e9a932;--color-accent-contrast: #1f1400;--shadow-soft: 0 20px 45px rgba(0, 0, 0, .32);--shadow-panel: 0 14px 32px rgba(0, 0, 0, .38);--shadow-inset: inset 0 12px 18px rgba(0, 0, 0, .34);--radius-lg: 20px;--radius-md: 14px;--radius-sm: 10px;--spacing-xs: .35rem;--spacing-sm: .65rem;--spacing-md: 1rem;--spacing-lg: 1.6rem;--spacing-xl: 2.25rem;--font-stack: "Segoe UI", "Roboto", "Helvetica Neue", Arial, sans-serif;--font-mono: "Consolas", "SFMono-Regular", "Menlo", monospace;--font-size-base: 16px;--font-size-sm: .9rem;--font-size-xs: .78rem;--line-height-base: 1.6;--line-height-tight: 1.3;--command-bar-left: 50%;--command-bar-top: calc(100vh - 7.5rem) ;--gradient-table: radial-gradient(circle at 35% 18%, var(--color-table-highlight) 0%, var(--color-table-base) 45%, var(--color-table-dark) 98%), radial-gradient(circle at 70% 80%, rgba(255, 255, 255, .15) 0%, transparent 60%), radial-gradient(circle at 20% 60%, rgba(255, 255, 255, .1) 0%, transparent 50%), radial-gradient(circle at 85% 30%, rgba(255, 255, 255, .08) 0%, transparent 45%)}*,*:before,*:after{box-sizing:border-box}html,body{height:100%;margin:0;font-family:var(--font-stack);font-size:var(--font-size-base);line-height:var(--line-height-base);color:var(--color-text-primary);background:var(--gradient-table)}body{display:flex;flex-direction:column;min-height:100%}body:before{content:"";position:fixed;top:0;right:0;bottom:0;left:0;pointer-events:none}h1,h2,h3{font-weight:600;letter-spacing:.06em;text-transform:uppercase;color:var(--color-text-secondary);margin:0}p{color:var(--color-text-secondary);margin:0 0 var(--spacing-sm)}a{color:var(--color-accent);text-decoration:none}a:hover,a:focus-visible{text-decoration:underline}#parentdiv{position:relative;flex:1;display:grid;grid-template-columns:minmax(0,1fr) clamp(280px,24%,340px);min-height:0;overflow:hidden}#gamediv{position:relative;min-height:0;background:var(--gradient-table)}#uidiv{display:flex;flex-direction:column;gap:calc(var(--spacing-sm) * .9);background:linear-gradient(180deg,#062415eb,#04160df0 55%,#03120cf7);padding:calc(var(--spacing-md) + .2rem) calc(var(--spacing-sm) * .9);border-left:1px solid rgba(255,255,255,.08);-webkit-backdrop-filter:blur(6px);backdrop-filter:blur(6px);box-shadow:inset 0 1px #ffffff14,var(--shadow-panel);position:relative}.sidebar__section{background:var(--color-surface-elevated);border-radius:var(--radius-md);padding:calc(var(--spacing-xs) * .45) calc(var(--spacing-sm) * .5);border:1px solid rgba(255,255,255,.08);box-shadow:var(--shadow-soft);-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px)}.sidebar__section--log{display:flex;flex-direction:column;gap:var(--spacing-sm)}.sidebar__heading{margin:0 0 var(--spacing-sm);font-size:var(--font-size-xs);text-transform:uppercase;letter-spacing:.08em;color:var(--color-text-secondary)}.sidebar__textarea{width:100%;resize:none;border:1px solid rgba(255,255,255,.1);border-radius:var(--radius-sm);background:var(--color-surface-subtle);color:var(--color-text-primary);padding:calc(var(--spacing-xs) * .5) calc(var(--spacing-sm) * .6);line-height:1.3;font-size:.8rem;font-family:var(--font-mono);box-shadow:var(--shadow-inset)}.training-form{display:block}.training-form fieldset{margin:0;padding:0;border:none}.training-form__toggle{display:flex;align-items:center;gap:var(--spacing-sm);padding:var(--spacing-xs) var(--spacing-xs) var(--spacing-xs) 0}.training-form__grid{display:grid;gap:var(--spacing-sm);grid-template-columns:repeat(2,minmax(0,1fr))}.training-form__item{display:flex;flex-direction:column;gap:.35rem}.training-form__item--full{grid-column:1 / -1}.training-form__item--checkbox{flex-direction:row;align-items:center;gap:var(--spacing-sm);grid-column:1 / -1;padding-top:var(--spacing-xs)}.training-form__label{font-size:var(--font-size-xs);color:var(--color-text-muted);letter-spacing:.06em;text-transform:uppercase}.training-form__select{width:100%}.training-form__select--compact{max-width:none}.message-log__textarea{min-height:12rem;letter-spacing:.02em;font-size:.78rem;line-height:1.35}.message-log__textarea.message-log__textarea--info{color:#b9f5ce}.message-log__textarea.message-log__textarea--warning{color:#ffe3a3}.message-log__textarea.message-log__textarea--danger{color:#ffb7b7}#hint-content{padding:10px;border-top:1px solid #ccc;min-height:120px}#hint-toggle{width:100%;text-align:left;background:none;border:none;font-size:inherit;padding:10px;cursor:pointer}#hint-toggle:after{content:"-";float:right}#hint-toggle[aria-expanded=false]:after{content:"+"}.hidden{display:none}#controldiv{display:grid;gap:var(--spacing-sm);grid-template-columns:repeat(auto-fit,minmax(120px,1fr));visibility:hidden}.button{-webkit-appearance:none;-moz-appearance:none;appearance:none;font-family:inherit;font-size:.95rem;font-weight:600;color:var(--color-accent-contrast);background:linear-gradient(135deg,var(--color-accent),var(--color-accent-dark));border:none;border-radius:var(--radius-sm);padding:.7rem 1.1rem;cursor:pointer;transition:transform .12s ease,box-shadow .12s ease,filter .16s ease;box-shadow:0 14px 26px #00000052,inset 0 1px #fff6}.button:hover{transform:translateY(-1px);box-shadow:0 18px 30px #00000059;filter:brightness(1.02)}.button:focus-visible{outline:3px solid rgba(255,215,125,.7);outline-offset:2px}.button:disabled{opacity:.6;cursor:not-allowed;filter:grayscale(.4)}#uicenterdiv{position:absolute;left:var(--command-bar-left);top:var(--command-bar-top);transform:translate(-50%);display:flex;flex-direction:column;gap:var(--spacing-sm);align-items:center;justify-content:center;padding:var(--spacing-sm) var(--spacing-md);width:min(360px,calc(100% - 3rem));background:linear-gradient(175deg,#052516c2,#04180ef5 65%);border-radius:var(--radius-lg);box-shadow:var(--shadow-soft);-webkit-backdrop-filter:blur(8px);backdrop-filter:blur(8px);cursor:grab;border:1px solid rgba(255,255,255,.16);z-index:10;font-size:.94rem}#uicenterdiv.command-bar--dragging{cursor:grabbing}#info{width:100%;min-height:3.25rem;padding:.55rem .75rem;border-radius:var(--radius-sm);border:1px solid var(--color-outline);background:#061e14c7;color:var(--color-text-primary);resize:none;font-size:.95rem;letter-spacing:.045em;text-transform:uppercase;visibility:hidden;line-height:1.25;overflow-y:auto;box-shadow:var(--shadow-inset)}#buttondiv{display:grid;grid-template-columns:repeat(auto-fit,minmax(120px,1fr));gap:var(--spacing-sm);width:100%;visibility:hidden}textarea{border:none;outline:none;background-clip:padding-box}textarea:focus-visible{outline:2px solid rgba(255,209,102,.36);outline-offset:2px}select:focus-visible,input[type=checkbox]:focus-visible{outline:2px solid rgba(255,209,102,.36);outline-offset:2px}label,input,select{font-size:var(--font-size-sm);color:inherit}input[type=checkbox]{width:18px;height:18px;border-radius:4px;border:1px solid rgba(255,255,255,.35);background:#0003;accent-color:var(--color-accent)}select{background:var(--color-surface-elevated);border:1px solid var(--color-outline);border-radius:var(--radius-sm);padding:.5rem .65rem;color:var(--color-text-primary);box-shadow:inset 0 2px 4px #0000004d;cursor:pointer;transition:border-color .2s ease,box-shadow .2s ease}select:hover{border-color:var(--color-outline-strong)}select:focus{border-color:var(--color-accent);box-shadow:inset 0 2px 4px #0000004d,0 0 0 2px #ffd16633}#controldiv .button,#buttondiv .button{letter-spacing:.05em}#controldiv .button{background:linear-gradient(140deg,#ffd470eb,#f2a730f2)}#controldiv .button:hover{filter:brightness(1.05)}#trainfieldset1:disabled,#trainfieldset2:disabled,#trainCheckbox:disabled{opacity:.45;cursor:not-allowed}.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border:0}@media (max-width: 1080px){#parentdiv{grid-template-columns:1fr clamp(260px,32%,320px)}#uicenterdiv{width:min(320px,calc(100% - 2rem));font-size:.9rem}.training-form__grid{grid-template-columns:1fr}}@media (max-width: 960px){#parentdiv{grid-template-columns:1fr}#uidiv{border-left:none;border-top:1px solid rgba(255,255,255,.08);flex-direction:column;gap:calc(var(--spacing-sm) * 1.1)}#uicenterdiv{position:static;transform:none;width:min(300px,100%);margin:var(--spacing-lg) auto;font-size:.88rem}:root{--command-bar-left: 50%;--command-bar-top: auto}.sidebar__textarea{height:14rem}.training-form__grid{grid-template-columns:1fr}}@media (max-width: 720px){#uicenterdiv{width:100%;font-size:.85rem}#buttondiv{grid-template-columns:repeat(auto-fit,minmax(110px,1fr))}.message-log__textarea{min-height:16rem}}@media (max-width: 540px){#uicenterdiv{font-size:.83rem}.sidebar__section--log{gap:var(--spacing-xs)}}.settings-overlay{position:fixed;top:0;right:0;bottom:0;left:0;background:#000000bf;-webkit-backdrop-filter:blur(8px);backdrop-filter:blur(8px);z-index:1000;display:flex;align-items:center;justify-content:center;padding:var(--spacing-md)}.settings-container{background:var(--gradient-table);border-radius:var(--radius-lg);box-shadow:var(--shadow-panel);border:1px solid rgba(255,255,255,.16);max-width:600px;width:100%;max-height:90vh;display:flex;flex-direction:column;overflow:hidden}.settings-header{display:flex;align-items:center;justify-content:space-between;gap:var(--spacing-md);padding:var(--spacing-lg) var(--spacing-xl);background:linear-gradient(180deg,#062415f2,#04160df7);border-bottom:1px solid rgba(255,255,255,.08);-webkit-backdrop-filter:blur(6px);backdrop-filter:blur(6px)}.settings-header-actions{display:flex;gap:var(--spacing-md)}.settings-button{-webkit-appearance:none;-moz-appearance:none;appearance:none;border:none;font-size:var(--font-size-sm);font-weight:600;cursor:pointer;padding:var(--spacing-xs) var(--spacing-lg);border-radius:var(--radius-sm);transition:background-color .12s ease,transform .12s ease;text-transform:uppercase;letter-spacing:.05em}.settings-button--primary{background:var(--color-accent);color:var(--color-accent-contrast)}.settings-button--primary:hover,.settings-button--primary:focus-visible{background:var(--color-accent-dark);outline:2px solid var(--color-accent);outline-offset:2px}.settings-button--secondary{background:#ffffff1a;color:var(--color-text-primary);border:1px solid rgba(255,255,255,.2)}.settings-button--secondary:hover,.settings-button--secondary:focus-visible{background:#ffffff26;border-color:#ffffff4d;outline:2px solid rgba(255,209,102,.36);outline-offset:2px}.settings-button:active{transform:scale(.98)}.settings-title{font-size:1.5rem;font-weight:600;color:var(--color-text-primary);margin:0;flex-grow:1;text-align:center}.settings-content{flex:1;overflow-y:auto;padding:var(--spacing-xl);display:flex;flex-direction:column;gap:var(--spacing-xl)}.settings-section{background:var(--color-surface-elevated);border-radius:var(--radius-md);padding:var(--spacing-lg);border:1px solid rgba(255,255,255,.08);box-shadow:var(--shadow-soft);-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px)}.settings-section-title{font-size:1.25rem;font-weight:600;color:var(--color-text-secondary);margin:0 0 var(--spacing-md);letter-spacing:.02em}.settings-placeholder{color:var(--color-text-muted);margin:0;font-style:italic}.settings-description{color:var(--color-text-muted);margin:0 0 var(--spacing-md);font-size:var(--font-size-sm);line-height:1.5}.settings-section .training-form{margin-top:var(--spacing-md)}.settings-section .training-form__toggle{margin-bottom:var(--spacing-sm)}.settings-section .training-form__grid{margin-top:var(--spacing-sm)}.year-select-container{display:flex;align-items:center;gap:var(--spacing-md)}.year-select-label{min-width:80px;font-size:var(--font-size-sm);color:var(--color-text-secondary);font-weight:500}.year-select{flex:1;max-width:200px}.house-rules-container{display:flex;flex-direction:column;gap:var(--spacing-md)}.house-rules-item{display:flex;align-items:center;gap:var(--spacing-md);padding:var(--spacing-sm) 0}.house-rules-checkbox{width:18px;height:18px;border-radius:4px;border:1px solid rgba(255,255,255,.35);background:#0003;accent-color:var(--color-accent);cursor:pointer;flex-shrink:0}.house-rules-label{font-size:var(--font-size-sm);color:var(--color-text-secondary);cursor:pointer;font-weight:500}.audio-controls{display:flex;flex-direction:column;gap:var(--spacing-lg)}.audio-controls__group{display:flex;flex-direction:column;gap:var(--spacing-sm)}.audio-controls__subtitle{font-size:1rem;font-weight:600;color:var(--color-accent);margin:0 0 var(--spacing-xs);letter-spacing:.02em}.audio-controls__item{display:flex;align-items:center;gap:var(--spacing-md)}.audio-controls__item--checkbox{margin-top:var(--spacing-xs)}.audio-controls__label{min-width:80px;font-size:var(--font-size-sm);color:var(--color-text-secondary)}.audio-controls__slider{flex:1;height:6px;background:#ffffff1a;border-radius:3px;outline:none;-webkit-appearance:none;-moz-appearance:none;appearance:none}.audio-controls__slider::-webkit-slider-thumb{-webkit-appearance:none;-moz-appearance:none;appearance:none;width:18px;height:18px;background:var(--color-accent);border-radius:50%;cursor:pointer;transition:transform .15s ease}.audio-controls__slider::-webkit-slider-thumb:hover{transform:scale(1.15)}.audio-controls__slider::-moz-range-thumb{width:18px;height:18px;background:var(--color-accent);border:none;border-radius:50%;cursor:pointer;transition:transform .15s ease}.audio-controls__slider::-moz-range-thumb:hover{transform:scale(1.15)}.audio-controls__value{min-width:45px;text-align:right;font-size:var(--font-size-sm);color:var(--color-text-primary);font-weight:600}.audio-controls__checkbox{width:18px;height:18px;cursor:pointer;accent-color:var(--color-accent)}.audio-controls__checkbox-label{font-size:var(--font-size-sm);color:var(--color-text-secondary);cursor:pointer}@media (max-width: 720px){.settings-overlay{padding:var(--spacing-sm)}.settings-container{max-height:95vh}.settings-header{padding:var(--spacing-md)}.settings-title{font-size:1.25rem}.settings-content{padding:var(--spacing-lg);gap:var(--spacing-lg)}.settings-section{padding:var(--spacing-md)}}@media (prefers-reduced-motion: reduce){.button,#uicenterdiv,.sidebar__section,.settings-button{transition:none}.button:hover,.settings-button:hover{transform:none}}.bg-green-600{background-color:#15803d}.text-green-600{color:#15803d}.border-green-700{border-color:#166534}.border-green-200{border-color:#dcfce7}.bg-red-600{background-color:#b91c1c}.text-red-600{color:#b91c1c}.border-red-700{border-color:#991b1b}.border-red-200{border-color:#fee2e2}.bg-blue-600{background-color:#1d4ed8}.text-blue-600{color:#1d4ed8}.border-blue-700{border-color:#1e40af}.border-blue-200{border-color:#dbeafe}.bg-black-600{background-color:#1f2937}.text-black-600{color:#1f2937}.border-black-700{border-color:#111827}.border-black-200{border-color:#e5e7eb}.bg-gray-600{background-color:#4b5563}.text-gray-600{color:#4b5563}.border-gray-700{border-color:#374151}.border-gray-200{border-color:#e5e7eb}.pattern-row{display:flex;flex-wrap:nowrap;gap:1px;margin-bottom:4px;overflow-x:auto;padding:2px 0}.tile-char{min-width:16px;height:20px;display:flex;align-items:center;justify-content:center;font-size:11px;font-weight:700;border-radius:3px;padding:0 1px;border:1px solid;box-sizing:border-box}.component-spacer{width:8px}.bg-white{background-color:#fff!important;opacity:1}
